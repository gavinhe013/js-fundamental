<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <ul id="list">

    </ul>


    <script>
        // 假设后端传来的数组，根据数组的长度创建li， 里面除了内容，还有一个删除按钮，点击删除按钮，删除当前li
        var arr = ["111", "222", "333"]

        for (var i = 0; i < arr.length; i++) {
            // 创建li节点，添加数组的内容至li
            var oli = document.createElement("li");
            oli.innerHTML = arr[i]

            // 创建button节点
            var oButton = document.createElement("button");
            oButton.innerHTML = "delete"

            // 给button绑定点击事件
            oButton.onclick = handler

            // 添加按钮至li
            oli.appendChild(oButton)


            /* ----------------------------------------------------- */
            // 如果给li添加页面跳转事件，那么点击li的时候，会跳转页面
            // 但是点击删除按钮的时候，在删除掉li之后还会跳转页面
            // 事件出现冲突，所以需要阻止事件传播
            oli.onclick = function () {
                location.href = "http://www.baidu.com"
            }
             /* ----------------------------------------------------- */



            // 添加li节点至ul中
            list.appendChild(oli)
        }

        function handler(evt) {
            this.parentNode.remove() // this指向当前点击的按钮，this.parentNode指向当前点击的按钮的父节点，即li

             /* ----------------------------------------------------- */
            // 阻止事件传播，即不会在冒泡阶段触发li的点击事件
            evt.stopPropagation()



            // IE浏览器阻止事件传播的方法
            // evt.cancelBubble = true
            
            // IE不支持remove方法，可以使用removeChild方法
            // this.parentNode.parentNode.removeChild(this.parentNode) 
             /* ----------------------------------------------------- */
        }
    </script>
</body>

</html>
